<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Style Editor App</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* [레이아웃] 화면 정중앙 배치 */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: #121212;
            padding: 0;
            margin: 0;
        }

        .app-container {
            width: 100%;
            max-width: 480px;
            background-color: #1e1e1e;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            border: 1px solid #333;
            min-height: 600px;
        }

        .header {
            background: linear-gradient(135deg, #3a2a5a, #1e1e1e);
            padding: 25px;
            text-align: center;
            border-bottom: 1px solid #333;
        }

        .header h3 { margin: 0; color: white; font-size: 1.4rem; }
        .header p { color: #aaa; font-size: 0.85rem; margin-top: 5px; }

        /* [콘텐츠 영역] */
        .content-area {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-y: auto;
        }

        /* 타겟 박스 (미리보기 창) */
        #target {
            width: 100%;
            background: rgba(0,0,0,0.3);
            border: 2px dashed #444;
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            color: #e0e0e0;
            font-size: 1.1rem;
            
            /* 레이아웃 흔들림 방지 */
            line-height: 1.5;
            transform: translateZ(0); 
            -webkit-font-smoothing: antialiased;
            backface-visibility: hidden;

            transition: 
                color 0.4s ease, 
                background-color 0.4s ease, 
                border-color 0.4s ease, 
                font-size 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), 
                border-radius 0.4s ease, 
                box-shadow 0.4s ease,
                opacity 0.4s ease;

            will-change: color, font-size, transform;

            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 180px;
            margin-bottom: 25px;
            box-sizing: border-box;
            overflow: hidden; 
        }

        /* 내부 콘텐츠 (글자만 회전용) */
        #inner-content {
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transform: translateZ(0);
            backface-visibility: hidden;
        }

        /* 버튼 그리드 */
        .btn-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            width: 100%;
        }

        /* 컨트롤 버튼 스타일 */
        .control-btn {
            background: #2c2c2c;
            border: 1px solid #444;
            color: #e0e0e0;
            padding: 15px 10px;
            border-radius: 12px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s, color 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .control-btn i { font-size: 1.2rem; margin-bottom: 3px; }

        .control-btn:hover {
            background: #382a2a;
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-2px);
        }

        /* 리셋 버튼 */
        .reset-btn {
            background: rgba(255, 82, 82, 0.1);
            color: #ff5252;
            border-color: #ff5252;
            grid-column: span 2; 
            flex-direction: row;
            font-weight: bold;
        }
        .reset-btn:hover {
            background: #ff5252;
            color: white;
        }

        /* [하단 고정 영역] */
        .fab-container {
            padding: 20px;
            background-color: #1e1e1e;
            border-top: 1px solid #333;
            display: flex;
            justify-content: center;
        }

        .main-action-btn {
            background: var(--primary);
            color: #121212;
            border: none;
            padding: 14px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 800;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 0 15px rgba(187, 134, 252, 0.4);
            transition: transform 0.2s;
        }

        .main-action-btn:hover {
            transform: scale(1.05);
            background-color: white;
        }
    </style>
    <script>
        function getTarget() { return document.getElementById("target"); }
        function getInner() { return document.getElementById("inner-content"); }

        // [중요] 사용자가 글자색을 직접 바꿨는지 확인하는 변수
        let isUserColor = false;

        // [기능 1] 글자색 랜덤
        const textColors = ['#ff5252', '#bb86fc', '#03dac6', '#ffeb3b', '#76ff03', '#e040fb'];
        function changeColor() {
            var obj = getTarget();
            var randomIndex = Math.floor(Math.random() * textColors.length);
            
            obj.style.color = textColors[randomIndex];
            
            // 사용자가 글자색을 변경했음을 기록!
            isUserColor = true;
        }

        // [기능 2] 글자 크기 변경
        function changeSize() {
            var obj = getTarget();
            if (obj.style.fontSize === "32px") {
                obj.style.fontSize = "1.1rem";
            } else {
                obj.style.fontSize = "32px";
            }
        }

        // [기능 3] 배경색 랜덤 (글자색 유지 로직 포함)
        const bgColors = ['#ffd700', '#81d4fa', '#a5d6a7', '#ffccbc', '#e1bee7', '#ffffff'];
        function changeBackground() {
            var obj = getTarget();
            var randomIndex = Math.floor(Math.random() * bgColors.length);
            var newBg = bgColors[randomIndex];

            obj.style.backgroundColor = newBg;
            
            // [수정] 사용자가 글자색을 바꾼 적이 없다면(!isUserColor), 가독성을 위해 검정으로 변경
            // 만약 사용자가 바꿨다면(isUserColor === true), 글자색은 건드리지 않음
            if (!isUserColor) {
                obj.style.color = "#121212"; 
            }
            
            obj.style.borderStyle = "solid";
            obj.style.borderColor = newBg;
        }

        // [기능 4] 둥글게
        function changeRadius() {
            var obj = getTarget();
            obj.style.borderRadius = obj.style.borderRadius === "50%" ? "15px" : "50%";
        }

        // [기능 5] 회전 (글자만)
        var rotation = 0;
        function rotateBox() {
            var inner = getInner(); 
            rotation += 90; 
            inner.style.transform = "rotate(" + rotation + "deg)";
        }

        // [기능 6] 네온 효과
        function addShadow() {
            var obj = getTarget();
            if (obj.style.boxShadow.includes("30px")) {
                obj.style.boxShadow = "none";
                obj.style.borderColor = "#444"; 
            } else {
                obj.style.boxShadow = "0 0 30px var(--primary)";
                obj.style.borderColor = "var(--primary)";
            }
        }

        // [기능 7] 초기화
        function resetStyle() {
            var obj = getTarget();
            var inner = getInner();
            
            obj.style = ""; 
            inner.style.transform = "translateZ(0) rotate(0deg)"; 
            rotation = 0;
            
            // 초기화 시 사용자 선택 기록도 리셋
            isUserColor = false;
        }

        // [기능 8] 숨기기/보이기
        function toggleVisibility() {
            var obj = getTarget();
            var btnIcon = document.getElementById("toggleIcon");
            var btnText = document.getElementById("toggleText");

            if (obj.style.display === "none") {
                obj.style.display = "flex";
                btnIcon.className = "fas fa-eye-slash";
                btnText.innerText = "Hide Box";
                
                requestAnimationFrame(() => {
                    obj.style.opacity = 1;
                });
            } else {
                obj.style.opacity = 0;
                setTimeout(function(){ 
                    obj.style.display = "none"; 
                }, 400); 
                
                btnIcon.className = "fas fa-eye";
                btnText.innerText = "Show Box";
            }
        }
    </script>
</head>
<body>

    <div class="app-container">
        <div class="header">
            <h3><i class="fas fa-palette"></i> Style Editor</h3>
            <p>다양한 스타일 버튼을 눌러보세요!</p>
        </div>

        <div class="content-area">
            <div id="target">
                <div id="inner-content">
                    <i class="fas fa-cube" style="font-size: 2rem; margin-bottom: 10px; display:block;"></i>
                    Touch Buttons!
                </div>
            </div>

            <div class="btn-grid">
                <button class="control-btn" onclick="changeColor()">
                    <i class="fas fa-palette" style="color: #ff5252;"></i> Random Color
                </button>
                
                <button class="control-btn" onclick="changeSize()">
                    <i class="fas fa-text-height" style="color: #4db6ac;"></i> Size
                </button>
                
                <button class="control-btn" onclick="changeBackground()">
                    <i class="fas fa-fill-drip" style="color: #ffd700;"></i> Random BG
                </button>
                
                <button class="control-btn" onclick="changeRadius()">
                    <i class="far fa-circle" style="color: #64b5f6;"></i> Round
                </button>

                <button class="control-btn" onclick="rotateBox()">
                    <i class="fas fa-sync-alt" style="color: #ba68c8;"></i> Rotate Text
                </button>

                <button class="control-btn" onclick="addShadow()">
                    <i class="fas fa-lightbulb" style="color: #ffb74d;"></i> Glow
                </button>

                <button class="control-btn reset-btn" onclick="resetStyle()">
                    <i class="fas fa-undo"></i> Reset All Styles
                </button>
            </div>
        </div>

        <div class="fab-container">
            <button class="main-action-btn" onclick="toggleVisibility()">
                <i id="toggleIcon" class="fas fa-eye-slash"></i> 
                <span id="toggleText">Hide Box</span>
            </button>
        </div>
    </div>
    
    <a href="index.html" style="position: fixed; top: 20px; left: 20px; color: #666; text-decoration: none;">
        <i class="fas fa-arrow-left"></i> Back
    </a>

</body>
</html>